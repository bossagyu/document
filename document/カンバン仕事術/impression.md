# カンバン仕事術

## 第一章

* カンバンではToDo, Doing, Doneではなく、各チームのワークフローをスイムレーンにする
* ワークフローを作ることで、人以外の要因(どのワークフローで詰まっているかなど、プロセスの要因)が見えるようになる。
* カンバンではWIPの制限を行う
  * バッチを小さくするとリードタイムが短縮される
  * WIPを制限することで、どちらをやるべきかやめるべきかなどの議論を発生させることが目的
  * キューとバッファを作ることで、プロセスの一項目が詰まるなど、機能不全を起こしていた場合に検知することができる。
* 特急レーン
  * 緊急の障害対応などの場合に利用する
  * 特急レーンを利用するとWIPが増え他の作業に影響があることを理解する必要がある。
* メトリクス
  * 人事評価に使わない
  * リードタイム：ワークフロー全体の時間
  * スループット：一定期間に完了した作業項目の数

## 第二章

6つのコアプラクティス

1. 見える化
2. WIPの制限
3. 流れの管理
4. ポリシーの明示
5. フィードバックループの実現
6. コラボレーティブな改善と実験的な進化

3つの原則

1. 今いるところから始めよう
2. 漸進的で進化的な変化を追求することに同意しよう
3. 最初は現在の役割、責任、肩書を尊重しよう
4. 組織のあらゆるレベルでリーダーシップをとろう

## 第三章 作業の見える化

スクラムと同じくデイリースタンドアップミーティング(デイリースクラム)は行う。

ワークフローに侵入条件と退出条件(スクラムで言うところの受け入れ条件)をつける。
上記条件をつけることで何が完了すれば次のワークフローに移れるか見える化することができる。


## 第四章 作業項目

カードの設計原則

* 判断を促す
* 成果の最適化を支援する

ブロッカー

* 何かしらの要因により作業が止まっていることを示すマーク
* これは自チームでもやっていた時期があった。

進捗インジケーター

* 各タスクがどの程度進んでいるかわからないので、紙にプログレスバーみたいなものを書く


## 仕掛り作業

リトルの法則

* サイクルタイム = 仕掛り作業/スループット


WIPの例

* 書かれたまま実装されず放置された仕様書
* 統合されていないコード
* テストされていないコード
* リリースされていないコード

WIPが多いことによるの悪影響

* コンテキストスイッチ
  * ある研究によるとコンテキストスイッチによってプロジェクトの10%の時間が奪われている
* 遅れると仕事が増える
  * フィードバックループが遅いと思い出しコストがかかるという問題
* リスクの増大
* オーバーヘッドの増大
* 増えた作業を調整するという作業が発生する
* 品質の低下
  * フィードバックループが遅いと過去に作り込んだバグをもとに他の部分も作り変えてしまっているので修正コストが増大する
* モチベーションの低下

### 感想

チームとしても複数の作業を受けすぎないことは大切だと思った。  
スイッチングコストは大きいので個人のWIPもそうだし、チームとしてのWIPについても気をつける必要があると思った。

## 第六章 WIP制限

* 最終的な目標はWIP制限をかけずとも、WIPが多くなりすぎない状況になっていること

WIPの制限を見つけるためのルール

* 大きいよりも小さい方がいい
* 作業者の手待ちと作業の手待ち
* 無制限は答えではない

ドン・ライナートセンが考えたWIPの制限の方法

* 2倍のWIP制限にする
* そこから、毎月 or 隔週で20%づつWIPの量を削減していく

WIPの制限をする方法

* チームの総計に対してWIPの制限を行う
* 各列ごとにWIPの制限を行う
* ボトルネックに対してWIPの制限を行う
* 改善に役に立ちそうなところを選定してWIPの制限を行う
* ストーリーポイントをもとにWIPの制限を行う
* 人に対してWIPの制限をかける

キューはWIP制限に数えるのではなく、制限したいのであれば独自の制限をかけてあげるとよい。

## 第七章 流れの管理

ソフトウェア開発の7つの無駄

* 未完成作業の無駄
* 余分な機能の無駄
* 再学習の無駄
* 引き継ぎの無駄
* 遅れの無駄
* タスク切換えの無駄
* 欠陥の無駄

ブロッカー

* 自分のコントロール外の作業の流れを止める要因
* ブロッカーが発生しないような開発環境をつくることが大切
* 削減するためにはブロッカーをトラックしておく必要がある
* チームでもブロックしていることの項目の確認を毎朝おこなっており、スクラムでもブロックを取り除くことを行っている。

スウォーミング

* WIPが上限に達したり、さまざまなブロッカーが発生したときに、チームが一致団結して解決し、もとに戻るということを行うこと。

フィーチャーチーム vs コンポーネントチーム

* フィーチャーチーム：機能ごとに区切ってチームで機能を開発する。クロスファンクショナルチーム
* コンポーネントチーム：コンポーネント(DB, API, UI)などに区切って開発を行う
* 基本的にはフィーチャーチームのほうが待ちが少ないと言われている。

ボトルネックの管理

* ボトルネックを発生させないためには以下の手順でカンバンをみるとよい
* WIPを終わらせる
* ボトルネックを探し解消を支援する
* WIPを超えない範囲で新しい作業を引き取る
* できない場合はすぐに放棄できる改善系の作業を自主的にやる。

制約理論

* すべてのシステムのスループットは少なくとも１つの制約(生産性を下げるボトルネック)によって制限を受ける

## 第8章 サービスクラス

緊急項目とは

* 独自のスイムレーンを持っている
* ピンクの付箋紙に書かれている
* WIP制限には数えない
* 通常の項目よりも優先度を上げる
  * 全員やっている作業を中断して新しい項目の修正を行う。(スウォーミング)
* 納期に間に合いそうか確認するために、大まかに見積もる必要がある。
* 例外でなければならない。

サービスクラスとは

* タスクごとの緊急度や成約の違いを表現したもの
* サービスクラスを活用することで、
  * 後回しにされがちか改善の項目が組み込まれるようになったり
  * 優先的に実施すべきものを可視化するようにしたりする。

<br>

よく使われるサービスクラス

* 緊急
* 必須納期
* 無形
* 標準
* 欠陥

<br>

確定納期

* 特定の期日やそれよりも前に何かをとどけなければ行けないときに利用する
* 期日に間に合うように優先的にプルする
* 特性
  * 期日が明確にかかれている
  * その他のリスクの日宇杭クラスよりも優先的にプルされる。「特急」クラスを覗いて他より優先度が高い
  * 期日が近づいている場合は「特急」や「緊急」クラスへの昇格を検討する。

<br>

無形項目

* 形ある具体的なビジネス価値を持っていない。
  * 優先度の低い欠陥、ユーザビリティの改善、デザインの変更など。
* 特徴
  * 他のクラスの項目がないときだけプルされる
  * ボード上での項目数を制限する。

<br>

欠陥

* 最初に行った作業の品質になんらかの不足がある。
* バグやサーバ障害が含まれる
* 特徴
  * 分析のステップをスキップして、直接開発の列に入れる
  * 見積もり不要
  * 完了にぷるする前に根本原因の対策を行う。
  * バグ追跡ツールを使い、QAのアサインなどを管理する。
  * 通常のリリーススケジュールとは関係なくリリースできる。
  * 次のリリースを待つ必要がない

<br>

サービスクラスの活用

* 作業の配分を決める
* 作業の配分を維持するようにカンバンにタスクを割り当てる
  * 無形項目が終って、無形項目の割合が減ったのであればToDoからに無形項目に着手する。

<br>

取引コストと調整コスト

* 取引コスト
  * 価値を届けるために必要なコスト
  * 計画、見積もり、予算計上、統合、デプロイ
  * これらのコストはすべて無駄とみなされる。(顧客は価値を受け取る際にこれらのコストを払いたいと思っていないため)
  * これらのコストを削減できないかとは常に考える必要がある。
* 調整コスト
  * ゴールを達成するために誰かと協力するときに発生するコスト
  * 会議、電話、メールなどが調整コストと


## 9章 計画づくりと見積もりづくり

カンバンではジャストインタイムの計画づくりを行う。

* 定期開催では必要なタイミングに計画ができない。
* カンバンでは発注点を作り、特定の数よりも作業項目が減れば計画を行うようにしている。


<br>

優先順位フィルター

* バックログのアイテムを優先順位付ける方法
* 優先度の列をつけ、バックログアイテムの中から優先度の高いものを持ってくる。
* 優先度が高くなった1, 2, 3とあれば3になったタイミングでバックログから付箋紙するなどを行う。

<br>


作業完了の予測

* カンバンではToDoに入れたら何日で終わるみたいな、予測の方法を使う
  * 別名ディズニーランドの待ち時間
* 予測の精度を高めるための方法として、
  * 複数のタイムスパンを使う
  * 納期遵守率を使う (何パーの確率で守れる、など)

<br>

見積もり

* 見積もりは未来の不確実性に対処するためのリスクマネジメントのために行う
* 見積もりには収穫逓減の法則(増加する入力に対して出力が追いつかなくなること)が当てはまる。

<br>

ストーリーポイント

* 内容は知っての通り
* 問題点
  * 相対見積もりなので、正確ではない、他チームで使えない、などの問題がある。

<br>

スクラムからカンバンへの移行

* スクラムの流れを壊さないようにすると移行が容易
* フローを、バックログ、計画図づくり、スプリントバックログ、構築中、受け入れ完了、デモ完了、完了などのようにしておくと移行がしやすい。
* スクラムにもとからあるセレモニーで有用なものについてはそのまま利用すると良い、計画、振り返りなど。

<br>

NoEstimates

* 見積もりがコミットメント、計画、デッドラインになり、機能不全の行動を起こしうるという概念。
* 常に平均的なサイズにタスクを分割しておき、その平均からどの程度かかるか予測する。
  * 常に引き渡し可能な状態にしておく力と、不確実性を低いレベルに維持することが求められる。

感想

NoEstimatesについてあとで調べてみる。

## 10章 プロセスの改善

振り返りをやる意味

* チームが仕事の改善のために時間を投資すること

<br>

振り返りのリンク

* http://gamestorming.com/category/core-games/

<br>

根本分析

* ある問題となっている事象に対して「So What?」と「Why？」を掘り下げていく
* So What?ではその結果何が起こるかを掘り下げ、Why? では原因を掘り下げる
* 5回のなぜの応用